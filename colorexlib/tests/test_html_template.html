<!--

    ColorEx, fun data visualization using color.
    Copyright (C) 2019  Ronsoft Technologies.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.


-->



<html>
    <head>
        <title>
            ColorEx
        </title>
		
        <style>
			body {
				font-family: Roboto;
				font-size: 15pt;
			}
			
			.tile {
				height: 100px;
				width: 100px;
				padding-top: 0px;
				vertical-align: middle;
				text-align: center;
				font-size: 5px;
				font-family: Roboto;
				
			}

			.tile-grid {
				border: 1px solid black;
				padding: 20px;
			}
			
			
			.column-labels {
				text-align: center;
				font-family: Roboto;
				font-weight: bolder;
				display: block;
				transform: rotate(270deg);
			}
			
			.title {
				vertical-align: middle;
				text-align: center;
				font-size: 26pt;
				font-weight: bolder;
				font-family: Roboto;	
			}

			.subtitle {
				vertical-align: middle;
				text-align: center;
				font-size: 17pt;
				font-weight: bolder;
				color: grey;
				font-family: Roboto;	
			}			

			
        </style>
		
		<script>
			function mouse_over_tile(tile, value) {
				//tile.innerHTML = value;
			}
			
			function mouse_out_tile(tile) {
				//tile.innerHTML = '';
			}
		</script>
    </head>

    <body>
	
		<table class="tile-grid">
			#set $nCols=len($column_labels)
			<tr>
				<td colspan="$nCols" class="title">$title</td>
			</tr>
			<tr>
				<td colspan="$nCols" class="subtitle">$subtitle</td>
			</tr>
			
			
			
			<tr>
				#for $label in $column_labels
				<td style="height: 200px;">
					<p class="column-labels">$label</p>
				</td>
				#end for
			</tr>
			#for $row in $color_grid
			<tr>
				#for $item in $row
				<td>
					#try
						#silent $item.value
						<div class="tile" style="background-color: rgba($item.rgb[0], $item.rgb[1], $item.rgb[2], $item.alpha);"
							onmouseover="mouse_over_tile(this, $item.value)" onmouseout="mouse_out_tile(this)"
						>
							<table height="100%" width="100%"
							style="text-align: center;"
							>
								<tr>
									<td>
										<!--$item.value-->
									</td>
								</tr>
							</table>
						</div>
					#except
						$item
					#end try
				</td>
				#end for
			</tr>
			#end for
		</table>
		
    </body>
</html>